<% navbar = [];
if(Number.isInteger(role) && role != 0){
  if(role == 1){
    navbar = [
      {name: "Moje škola", link: "student", class: ""},
      {name: "Mé známky", link: "student/marks", class: ""},
      {name: "E-learning", link: "elearn", class: ""},
    ]
  }else if (role >= 2) {
    navbar = []
    navbar.push(
      {name: "Škola", link: "teacher", class: ""},
      {name: "Domací úkoly", link: "teacher/homeworks", class: ""},
      {name: "Testy", link: "teacher/exams", class: ""},
      {name: "E-learning", link: "elearn", class: ""},
    )
    if(role >= 3){
      navbar.push(
        {name: "admin", link: "root", class: ""},
      )
    }
  }
  navbar.push(
    {name: "Novinky", link: "news", class: ""},
    {name: "Odhlásit se", link: "logout", class: ""},
  )
}else {
  navbar = [
    {name: "Přihlásit se", link: "login", class: "btn-primary"},
    {name: "Vytvořit účet", link: "register", class: "btn-secondary"},
  ]
} %>
<% 

let classes = {
    a: "px-3 py-3 text-slate-700 font-medium hover:bg-slate-100 hover:text-slate-900",
    logo: "px-3 py-3 text-slate-700 font-bold text-2xl",
    nav: "flex justify-between space-x-4 py-10 px-10"
}
%>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="shortcut icon" type="image/jpg" href="/images/logo-beamMS.svg"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <% if(typeof externcss !== 'undefined'){%>
    <link href="<%= externcss %>"  rel="stylesheet" crossorigin="anonymous">
  <% } %>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous"> -->
  <!-- <link rel='stylesheet' href='/stylesheets/master.css' /> -->
  <link rel='stylesheet' href='/stylesheets/tail.css' />
  <!-- <link rel="stylesheet" href="/stylesheets/<%= stylefile %>.css"> -->
</head>
<body class="bg-slate-200">
  <header class="<%= classes.nav %>">
    <!-- <img src="" alt="logo"> -->
    <a class="logo <%= classes.logo %>" href="/">
      <h1>LEVIATHAN DEV.</h1>
    </a>
    <nav class="flex justify-center space-x-4">
      <% navbar.forEach( item => { %>
        <a class="<%= classes.a %>" href="/<%= item.link %>"><%= item.name %></a>
      <% }) %>
    </nav>
  </header>
  <div class="help"></div>
